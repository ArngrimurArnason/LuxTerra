{% extends 'Home/base.html' %}
{% load static %}

{% block content %}
<div class="container my-5">
  <h2 class="text-center mb-5" style="color: #41563B; font-family: 'Bookman Old Style', serif;">Offer History</h2>

  {% for offer in offers %}
  <div class="row mb-4 p-3 border-bottom align-items-center">
    <!-- Image -->
    <div class="col-md-3">
      <img src="{{ offer.property.image.url }}" alt="Property Image" class="img-fluid rounded shadow-sm">
    </div>

    <!-- Property & Offer Info -->
    <div class="col-md-6">
      <h4 style="font-family: 'Bookman Old Style', serif;">{{ offer.property.address }}</h4>
      <p><strong>Your offer:</strong> <span class="badge rounded-pill border border-success text-success px-3 py-2">{{ offer.offer_price|floatformat:0 }} kr.</span></p>
      <p><i class="bi bi-calendar3"></i> Offer made: {{ offer.offer_date }}<br>Expires in: {{ offer.offer_expiry_date|timesince }} </p>
    </div>

    <!-- Seller Info -->
    <div class="col-md-3 text-end">
      <p><strong>Seller:</strong> {{ offer.property.seller.first_name }}</p>
      <i class="bi bi-person-circle fs-2 text-muted"></i>
    </div>
  </div>
  {% empty %}
  <p class="text-center">You havenâ€™t made any offers yet.</p>
  {% endfor %}
</div>
{% endblock %}